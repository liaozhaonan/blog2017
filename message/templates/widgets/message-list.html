{% for message in messages %}
<div class="msg-card">
    <h5>
        <i class="fa fa-user
            {% if message.gender == 'M' %}
                text-info
            {% else %}
                text-danger
            {% endif %}">
            &nbsp;
        </i>
        <span class="text-muted">{{ message.nickname }}</span>
    </h5>
    <div class="msg-detail">
        <p>{{ message.content }}</p>
        <h5><small>{{ message.created_time|date:"Y-m-d H:i" }}</small></h5>
    </div>
    {% if message.messagereply %}
    <div class="msg-reply">
        <h5>
            <i class="fa fa-user text-info">&nbsp;</i>
            <span class="text-muted">博主</span>&nbsp;
            {{ message.messagereply.content }}&nbsp;
            <small>
                {{ message.messagereply.created_time|date:"Y-m-d H:i" }}
            </small>
        </h5>
    </div>
    {% endif %}
</div>
{% endfor %}

{% if page_obj.has_next %}
<div id="msg-more">
    <a class="btn btn-info btn-block"
       href="?page={{ page_obj.next_page_number }}">
       加载第&nbsp;{{ page_obj.next_page_number }}&nbsp;页
       &nbsp;(共{{ page_obj.paginator.num_pages }}页)
    </a>
</div>
{% else %}
    <div class="text-center">- 已无更多 -<div>
{% endif %}
